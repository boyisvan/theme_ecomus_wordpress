(function(v){"use strict";var w=w||{};w.init=function(){w.$body=v(document.body),w.$window=v(window),w.$header=v("#site-header");this.toggleOffCanvas();this.toggleModals();this.togglePopover();this.sidebarPanel();this.toggleSearchModal();this.formFieldFocus();this.loginPopup();this.loginModalAuthenticate();this.topbarSlides();this.hamburgerToggleMenuItem();this.hamburgerToggleSubMenuItem();this.currencyLanguage();this.headerCampaignBar();this.stickyHeader();this.footerCollapsible();this.postsRelated();this.productCardHoverSlider();this.productCardHoverZoom();this.productAttribute();this.productQuantityNumber();this.productQuickView();this.productQuickAdd();this.addToCartLoopAjax();this.productFilterAjax();this.openMiniCartPanel();this.changeQuantitySingleProduct();this.productVariation();this.updateQuantityAuto();this.productsRecommendedCarousel();w.$body.on("added_to_cart removed_from_cart wc_fragments_refreshed",function(){w.productsRecommendedCarousel()});this.addedToWishlistNotice();this.addedToCompareNotice();this.copyLink();this.backToTop();this.toggleProductCategoriesWidget();this.dropdownProductCategoriesSidebar();this.tooltip()};w.toggleOffCanvas=function(){v(document.body).on("click",'[data-toggle="off-canvas"]',function(e){var t="#"+v(this).data("target");if(v(t).hasClass("offscreen-panel--open")){w.closeOffCanvas(t)}else if(w.openOffCanvas(t)){e.preventDefault()}}).on("click",".offscreen-panel .panel__button-close, .offscreen-panel .panel__backdrop, .offscreen-panel .sidebar__button-close, .offscreen-panel .sidebar__backdrop",function(e){e.preventDefault();w.closeOffCanvas(this)}).on("keyup",function(e){if(e.keyCode===27){w.closeOffCanvas()}})};w.openOffCanvas=function(e){var t=v(e);if(!t.length){return false}var a=window.innerWidth-v("#page").width();if(v("#page").width()<767){a=0}v(document.body).css({"padding-right":a,overflow:"hidden"});t.fadeIn();t.addClass("offscreen-panel--open");v(document.body).addClass("offcanvas-opened "+t.attr("id")+"-opened").trigger("ecomus_off_canvas_opened",[t]);return true};w.closeOffCanvas=function(e){if(!e){v(".offscreen-panel").each(function(){var e=v(this);if(!e.hasClass("offscreen-panel--open")){return}e.removeClass("offscreen-panel--open").fadeOut();v(document.body).removeClass(e.attr("id")+"-opened");if(e.hasClass("modal-above-panel")){e.removeClass("modal-above-panel")}})}else{e=v(e).closest(".offscreen-panel");e.removeClass("offscreen-panel--open").fadeOut();v(document.body).removeClass(e.attr("id")+"-opened");if(e.hasClass("modal-above-panel")){e.removeClass("modal-above-panel")}}v(document.body).removeAttr("style");v(document.body).removeClass("offcanvas-opened").trigger("ecomus_off_canvas_closed",[e])};w.toggleModals=function(){v(document.body).on("click",'[data-toggle="modal"]',function(e){if(v(this).data("modal")=="no"){return}var t="#"+v(this).data("target");if(v(t).hasClass("modal--open")){w.closeModal(t)}else if(w.openModal(t)){e.preventDefault()}}).on("click",".modal .modal__button-close, .modal .modal__backdrop",function(e){e.preventDefault();w.closeModal(this)}).on("keyup",function(e){if(e.keyCode===27){w.closeModal()}})};w.openModal=function(e){var t=v(e);t=t.length?t:v('.modal[data-id="'+e+'"]');if(!t.length){var e=e.replace("#","");t=v('.modal[data-id="'+e+'"]')}if(!t.length){return false}var a=window.innerWidth-v("#page").width();if(v("#page").width()<767){a=0}v(document.body).css({"padding-right":a,overflow:"hidden"});t.fadeIn();t.addClass("modal--open");v(document.body).addClass("modal-opened "+t.attr("id")+"-opened").trigger("ecomus_modal_opened",[t]);return true};w.closeModal=function(e){if(!e){v(".modal").removeClass("modal--open").fadeOut();v(".modal").each(function(){var e=v(this);if(!e.hasClass("modal--open")){return}e.removeClass("modal--open").fadeOut();v(document.body).removeClass(e.attr("id")+"-opened")})}else{e=v(e).closest(".modal");e.removeClass("modal--open").fadeOut();v(document.body).removeClass(e.attr("id")+"-opened")}v(document.body).removeAttr("style");v(document.body).removeClass("modal-opened").trigger("ecomus_modal_closed",[e])};w.togglePopover=function(){v(document.body).on("click",'[data-toggle="popover"]',function(e){var t="#"+v(this).data("target");if(v(this).data("device")=="mobile"){if(w.$window.width()>767){return}}if(v(t).hasClass("popover--open")){w.closePopover(t)}else if(w.openPopover(t)){e.preventDefault()}}).on("click",".popover .popover__button-close, .popover .popover__backdrop",function(e){e.preventDefault();w.closePopover(this)}).on("keyup",function(e){if(e.keyCode===27){w.closePopover()}})};w.openPopover=function(e){var t=v(e);t=t.length?t:v('.popover[data-id="'+e+'"]');if(!t.length){var e=e.replace("#","");t=v('.popover[data-id="'+e+'"]')}if(!t.length){return false}var a=window.innerWidth-v("#page").width();if(v("#page").width()<767){a=0}v(document.body).css({"padding-right":a,overflow:"hidden"});t.addClass("popover--open");v(document.body).addClass("popover-opened "+t.attr("id")+"-opened").trigger("ecomus_popover_opened",[t]);return true};w.closePopover=function(e){if(!e){v(".popover").removeClass("popover--open").fadeOut();v(".popover").each(function(){var e=v(this);if(!e.hasClass("popover--open")){return}e.removeClass("popover--open");v(document.body).removeClass(e.attr("id")+"-opened")})}else{e=v(e).closest(".popover");e.removeClass("popover--open");v(document.body).removeClass(e.attr("id")+"-opened")}v(document.body).removeAttr("style");v(document.body).removeClass("popover-opened").trigger("ecomus_popover_closed",[e])};w.toggleSearchModal=function(){var t=v("#search-modal");if(t.length<1||!t.hasClass("search-type-popup")){return}w.$window.on("resize",function(){if(w.$window.width()<1200){t.removeClass("search-type-popup").addClass("search-type-sidebar");if(t.find(".header-search__products--slider").length>0&&t.find(".header-search__products--slider").get(0).swiper){t.find(".header-search__products--slider").get(0).swiper.destroy()}}else{t.removeClass("search-type-sidebar").addClass("search-type-popup");if(t.find(".header-search__products--slider").length>0&&t.find(".header-search__products--slider").get(0).swiper==null){var e=t.find(".header-search__products--slider");new Swiper(e.get(0),a(e))}else{if(t.find(".header-search__products--slider").length<1){o()}}}}).trigger("resize");function a(e){var o=e.find(".product-thumbnail");var t={loop:false,autoplay:false,speed:800,watchSlidesVisibility:true,watchOverflow:true,navigation:{nextEl:e.find(".swiper-button-next:not(.ecomus-product-card-swiper-button)").get(0),prevEl:e.find(".swiper-button-prev:not(.ecomus-product-card-swiper-button)").get(0)},on:{init:function(){this.$el.css("opacity",1)},resize:function(){var a=this;if(o.length>0){o.imagesLoaded(function(){var e=o.outerHeight(),t=e/2+"px";v(a.navigation.$nextEl).css({"--em-arrow-top":t});v(a.navigation.$prevEl).css({"--em-arrow-top":t})})}}},spaceBetween:e.data("spacing"),breakpoints:{300:{slidesPerView:2,slidesPerGroup:2,spaceBetween:15},768:{slidesPerView:3,spaceBetween:e.data("spacing")},1200:{slidesPerView:4}}};return t}function o(){if(ecomusData.header_search_products&&ecomusData.header_search_product_limit>4){t.find(".header-search__products ul.products").wrap('<div class="header-search__products--slider swiper" data-spacing="30"></div>');t.find(".header-search__products ul.products").addClass("swiper-wrapper");t.find(".header-search__products ul.products").after('<span class="ecomus-svg-icon em-button-light ecomus-swiper-button swiper-button swiper-button-prev"><svg width="7" height="11" viewBox="0 0 7 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 11L0 5.5L5.5 0L6.47625 0.97625L1.9525 5.5L6.47625 10.0238L5.5 11Z" fill="currentColor"/></svg></span>');t.find(".header-search__products ul.products").after('<span class="ecomus-svg-icon em-button-light ecomus-swiper-button swiper-button swiper-button-next"><svg width="7" height="11" viewBox="0 0 7 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.5 11L7 5.5L1.5 0L0.52375 0.97625L5.0475 5.5L0.52375 10.0238L1.5 11Z" fill="currentColor"/></svg></span>');t.find(".header-search__products ul.products li.product").addClass("swiper-slide");var e=t.find(".header-search__products--slider");new Swiper(e.get(0),a(e))}}};w.sidebarPanel=function(){var e=v(".blog #mobile-sidebar-panel"),t=v(".ecomus-catalog-page #mobile-sidebar-panel");w.$window.on("resize",function(){if(w.$window.width()>1024){if(e.length>0&&e.hasClass("offscreen-panel")){e.removeClass("offscreen-panel").removeAttr("style")}if(t.length>0&&t.hasClass("offscreen-panel")){t.removeClass("offscreen-panel").removeAttr("style")}}else{if(e.length>0){e.addClass("offscreen-panel")}if(t.length>0){t.addClass("offscreen-panel")}}}).trigger("resize")};w.postsRelated=function(){if(!v(".ecomus-posts-related").length){return}var e=v(".ecomus-posts-related"),t=e.find(".swiper"),a={loop:false,autoplay:false,speed:800,watchOverflow:true,spaceBetween:e.data("spacing"),pagination:{el:e.find(".swiper-pagination").get(0),type:"bullets",clickable:true},breakpoints:{0:{slidesPerView:1,slidesPerGroup:1},767:{slidesPerView:2,slidesPerGroup:2},992:{slidesPerView:3,slidesPerGroup:3}}};e.find(".em-post-grid").addClass("swiper-slide");new Swiper(t.get(0),a)};w.footerCollapsible=function(){v(".footer-widgets-area .wp-block-group__inner-container").each(function(){if(v(this).find(".wp-block-heading").length){v(this).find(".wp-block-heading").addClass("em-widget-heading");v(this).find(".wp-block-heading").append('<span class="em-collapse-icon"></span>');v(this).find(".wp-block-heading").nextAll().wrapAll('<div class="em-widget-group"/>')}});var e=v(".footer-widgets-area .wp-block-group__inner-container .em-widget-group"),t=v(".footer-widgets-area .wp-block-group__inner-container .wp-block-heading");w.$window.on("resize",function(){if(w.$window.width()<768){t.addClass("clicked");e.addClass("dropdown")}else{t.removeClass("clicked");e.removeClass("dropdown").removeAttr("style")}}).trigger("resize");v(".footer-widgets-area .wp-block-group__inner-container .wp-block-heading").on("click",function(e){e.preventDefault();if(!v(this).next().hasClass("dropdown")){return}v(this).next(".dropdown").stop().slideToggle();v(this).toggleClass("active");return false})};w.productCardHoverSlider=function(){var e=w.$body.find("ul.products li.product .product-thumbnails--slider"),t={observer:true,observeParents:true,loop:false,autoplay:false,speed:800,watchOverflow:true,lazy:true,breakpoints:{}};e.find(".woocommerce-loop-product__link").addClass("swiper-slide");setTimeout(function(){e.each(function(){t.navigation={nextEl:v(this).find(".swiper-button-next").get(0),prevEl:v(this).find(".swiper-button-prev").get(0)};new Swiper(v(this).get(0),t)})},100)};w.productCardHoverZoom=function(){if(typeof ecomusData.product_card_hover==="undefined"||typeof Drift==="undefined"){return}if(ecomusData.product_card_hover!=="zoom"){return}var e=w.$body.find("ul.products li.product .product-thumbnail-zoom");var o={containInline:true,zoomFactor:2};e.each(function(){var e=v(this),t=e.find("img"),a=e.data("zoom");o.paneContainer=e.get(0);t.attr("data-zoom",a);new Drift(t.get(0),o)})};w.productAttribute=function(){w.$body.on("mouseover",".product-variation-item",function(e){e.preventDefault();if(v(this).hasClass("selected")){return}var t=v(this).closest(".product-inner").find(".product-thumbnail");t.addClass("hover-swatch");if(t.find(".product-thumbnails--slider").length>0&&t.find(".product-thumbnails--slider").get(0).swiper){t.find(".product-thumbnails--slider").get(0).swiper.slideTo(0)}v(this).siblings(".product-variation-item--attrs").removeClass("selected");v(this).addClass("selected");var a=v(this).data("product_variations"),o=t.find(".woocommerce-LoopProduct-link").first(),i=o.find("img").first();o.addClass("image-loading");if(a&&a.img_src!=="undefined"&&a.img_src){i.attr("src",a.img_src)}if(a&&a.img_srcset!=="undefined"&&a.img_srcset){i.attr("srcset",a.img_srcset)}if(a&&a.img_original!=="undefined"&&a.img_original){i.closest("a").attr("data-zoom",a.img_original);i.attr("data-zoom",a.img_original)}i.load(function(){o.removeClass("image-loading")})}).on("mouseout",".product-variation-item",function(e){e.preventDefault();v(this).closest(".product-inner").find(".product-thumbnail").removeClass("hover-swatch")})};w.formFieldFocus=function(){v(".woocommerce-account").on("keyup focus change",".woocommerce-form-row .input-text, .woocommerce-form-row input[type=text]",function(){v(this).closest(".woocommerce-form-row").addClass("focused")}).on("blur",".woocommerce-form-row .input-text, .woocommerce-form-row input[type=text]",function(){if(v(this).val()===""){v(this).closest(".woocommerce-form-row").removeClass("focused")}}).find(".woocommerce-form-row").each(function(){var e=v(this).find(".input-text, input[type=text]");if(e.val()!==""){v(this).addClass("focused")}setTimeout(function(){if(e.css("border-color")==="rgb(0, 0, 0)"){e.closest(".woocommerce-form-row").addClass("focused")}},100)}).on("click",".showlogin",function(){v(this).closest(".woocommerce").find(".em-button-login-mode").trigger("click")})};w.loginPopup=function(){var t=v("#login-modal");t.on("click",".em-button-register-mode",function(e){e.preventDefault();t.find(".woocommerce-customer-login").removeClass("active");t.find(".woocommerce-customer-register").addClass("active")}).on("click",".em-button-login-mode",function(e){e.preventDefault();t.find(".woocommerce-customer-login").addClass("active");t.find(".woocommerce-customer-register").removeClass("active")})};w.loginModalAuthenticate=function(){var d=v("#login-modal"),c=null;d.on("submit","form.login",function e(t){var a=v("input[name=rememberme]",this).is(":checked"),o=v("input[name=woocommerce-login-nonce]",this).val();var i={action:"login_modal_authenticate",security:o,remember:a};r(this,i,t)});d.on("submit","form.register",function e(t){var a=v("input[name=woocommerce-register-nonce]",this).val();var o={action:"register_modal_authenticate",security:a};r(this,o,t)});function r(e,t,a){var o=v("input[name=username]",e).val(),i=v("input[name=password]",e).val(),r=v("input[name=email]",e).val(),s=v("[type=submit]",e),n=v(e);if(n.find("input[name=username]").length){if(!o){n.find("input[name=username]").focus();return false}else{t.username=o}}if(n.find("input[name=email]").length){if(!r){n.find("input[name=email]").focus();return false}else{t.email=r}}if(n.find("input[name=password]").length){if(!i){n.find("input[name=password]").focus();return false}else{t.password=i}}if(n.data("validated")){return true}if(c){c.abort()}d.find(".login-modal-notices").remove();s.addClass("loading");c=v.post(ecomusData.admin_ajax_url,t,function(e){if(!e.success){var t='<div class="login-modal-notices woocommerce-error">'+e.data+"</div>";d.find(".modal__content").append(t);s.removeClass("loading")}else{var t='<div class="login-modal-notices woocommerce-info">'+e.data+"</div>";d.find(".modal__content").append(t);s.removeClass("loading");setTimeout(function(){n.data("validated",true).trigger("submit")},1500)}});a.preventDefault()}};w.productQuantityNumber=function(){w.$body.on("click",".ecomus-qty-button",function(e){e.preventDefault();var t=v(this),a=t.siblings(".qty"),o=0,i=parseFloat(a.attr("min")),r=parseFloat(a.attr("max")),s=parseFloat(a.attr("step"));if(a.val()!==""){o=parseFloat(a.val())}else if(a.attr("placeholder")!==""){o=parseFloat(a.attr("placeholder"))}i=i?i:0;r=r?r:o+1;if(t.hasClass("decrease")&&o>i){a.val(o-s);a.trigger("change")}if(t.hasClass("increase")&&o<r){a.val(o+s);a.trigger("change")}})};w.productQuickView=function(){v(document.body).on("click",".ecomus-quickview-button",function(e){e.preventDefault();var t=v(this),a=t.data("id"),o=v("#"+t.data("target")),i=o.find(".woocommerce"),r=ecomusData.ajax_url.toString().replace("%%endpoint%%","product_quick_view"),s=null;if(t.closest(".offscreen-panel").length>0){t.closest(".offscreen-panel").addClass("modal-above-panel")}o.addClass("loading");t.addClass("loading");i.find(".product-quickview").html("");w.progressBar();v.post(r,{action:"ecomus_get_product_quickview",product_id:a,security:ecomusData.product_quickview_nonce},function(e){i.find(".product-quickview").replaceWith(e.data);c(v(".product-quickview").find(".short-description__content"));if(e.success){w.progressBar(false);n()}t.removeClass("loading");o.removeClass("loading");if(!o.hasClass("modal--open")){w.openModal(o)}if(o.find(".size-guide-button").length==1){o.find(".size-guide-button").attr("data-modal","no")}w.$body.trigger("ecomus_product_quick_view_loaded");if(i.find(".ecomus-countdown").length>0){v(document.body).trigger("ecomus_countdown",[v(".ecomus-countdown")])}}).fail(function(){window.location.herf=t.attr("href")});function n(){var e=i.find(".product-quickview"),t=e.find(".woocommerce-product-gallery"),a=e.find(".variations_form");d();t.on("ecomus_update_product_gallery_on_quickview",function(){d()});if(typeof wc_add_to_cart_variation_params!=="undefined"){a.each(function(){w.productVariation();v(this).wc_variation_form()})}v(document.body).trigger("init_variation_swatches")}function d(){var e=i.find(".product-quickview"),t=e.find(".woocommerce-product-gallery"),a=t.find(".woocommerce-product-gallery__wrapper");t.on("click",".woocommerce-product-gallery__image a",function(e){e.preventDefault()});if(a.find(".woocommerce-product-gallery__image").length>1){a.addClass("woocommerce-product-gallery__slider swiper");a.wrapInner('<div class="swiper-wrapper"></div>');a.find(".swiper-wrapper").after('<span class="ecomus-svg-icon em-button-light ecomus-swiper-button swiper-button swiper-button-prev"><svg width="7" height="11" viewBox="0 0 7 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 11L0 5.5L5.5 0L6.47625 0.97625L1.9525 5.5L6.47625 10.0238L5.5 11Z" fill="currentColor"/></svg></span>');a.find(".swiper-wrapper").after('<span class="ecomus-svg-icon em-button-light ecomus-swiper-button swiper-button swiper-button-next"><svg width="7" height="11" viewBox="0 0 7 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.5 11L7 5.5L1.5 0L0.52375 0.97625L5.0475 5.5L0.52375 10.0238L1.5 11Z" fill="currentColor"/></svg></span>');a.find(".woocommerce-product-gallery__image").addClass("swiper-slide");var o={loop:false,autoplay:false,speed:800,watchOverflow:true,autoHeight:true,navigation:{nextEl:a.find(".swiper-button-next").get(0),prevEl:a.find(".swiper-button-prev").get(0)},on:{init:function(){t.css("opacity",1)}}};s=new Swiper(a.get(0),o)}else{t.css("opacity",1)}}function c(e){var t=ecomusData.product_description_lines,a=parseInt(e.css("line-height"))*t;e.each(function(){var e=v(this).outerHeight();if(e<a){v(this).siblings(".short-description__more").addClass("hidden")}});v(document.body).on("click",".short-description__more",function(e){e.preventDefault();var t=v(this).data("settings"),a=t.more,o=t.less;if(v(this).hasClass("less")){v(this).removeClass("less");v(this).text(a);v(this).siblings(".short-description__content").removeAttr("style")}else{v(this).addClass("less");v(this).text(o);v(this).siblings(".short-description__content").css("-webkit-line-clamp","inherit")}})}});v(document.body).on("click",".size-guide-button",function(e){e.preventDefault();var t=v(this).closest(".quick-view-modal");if(t.length!==1){return}if(!t.hasClass("modal--open")){return}w.openModal(t.find(".size-guide-modal"));t.addClass("size-guide-modal--open")}).on("click",".modal .modal__button-close, .modal .modal__backdrop",function(e){e.preventDefault();var t=v(this).closest(".quick-view-modal");if(t.length!==1){return}if(!t.hasClass("size-guide-modal--open")){return}w.closeModal(t.find(".size-guide-modal"));w.openModal(t);t.removeClass("size-guide-modal--open")}).on("keyup",function(e){if(e.keyCode===27){v(".quick-view-modal").removeClass("size-guide-modal--open")}})};w.productQuickAdd=function(){w.$body.on("click",'.product_type_variable[data-target="quick-add-modal"]',function(e){e.preventDefault();var t=v(this),a=t.data("product_id"),o=v("#"+t.data("target")),i=o.find(".woocommerce"),r=ecomusData.ajax_url.toString().replace("%%endpoint%%","product_quick_add");o.addClass("loading");t.addClass("loading");i.find(".product-quickadd").html("");w.progressBar();v.post(r,{action:"ecomus_get_product_quickadd",product_id:a,security:ecomusData.product_quickadd_nonce},function(e){i.find(".product-quickadd").replaceWith(e.data);if(e.success){w.progressBar(false);s()}t.removeClass("loading");o.removeClass("loading");w.$body.trigger("ecomus_product_quick_add_loaded")}).fail(function(){window.location.herf=t.attr("href")});function s(){var e=i.find(".product-quickadd"),t=e.find(".variations_form");if(typeof wc_add_to_cart_variation_params!=="undefined"){t.each(function(){w.productVariation();v(this).wc_variation_form()})}v(document.body).trigger("init_variation_swatches")}})};w.productFilterAjax=function(){v(document.body).on("ecomus_products_filter_before_send_request",function(){w.progressBar()});v(document.body).on("ecomus_products_filter_request_success",function(){w.progressBar(false)})};w.addToCartLoopAjax=function(){var e=false;v(document.body).on("adding_to_cart",function(){w.progressBar();e=true});v(document.body).on("added_to_cart wc_fragments_refreshed",function(){if(e){w.progressBar(false);e=false}})};w.openMiniCartPanel=function(){if(typeof ecomusData.added_to_cart_notice==="undefined"){return}if(ecomusData.added_to_cart_notice.added_to_cart_notice_layout!=="mini"){return}var e=false;v(document.body).on("adding_to_cart",function(){e=true});v(document.body).on("added_to_cart wc_fragments_refreshed",function(){if(e){w.openOffCanvas("#cart-panel")}})};w.changeQuantitySingleProduct=function(){v(document.body).on("change","input.qty",function(){if(v(this).closest(".entry-summary").find(".dynamic-pricing-discounts").length>0){return}var e=v(this).val(),t=v(this).closest("form.cart").find(".single_add_to_cart_button .price"),a=t.attr("data-price");if(!a){return}t.html(w.formatPrice(parseFloat(e*a)))})};w.productVariation=function(){var u=v("div.product .entry-summary > .variations_form .woocommerce-variation-add-to-cart .single_add_to_cart_button"),p=u.find(".text").html(),m=u.find(".divide"),f=u.find(".price"),g=v("div.product .entry-summary > .product_title"),t=v("div.product .entry-summary > .woocommerce-badges--single"),h=v("div.product .entry-summary .ecomus-product-price .price"),_=v("div.product .entry-summary .ecomus-product-price .ecomus-product-availability"),a=h.html(),o=_.html();v("div.product .entry-summary > .variations_form").on("found_variation",function(e,t){m.removeClass("hidden");f.removeClass("hidden");var a=t.display_price,o=t.variation_id,i=t.price_html,r=t.availability_html,s=v(this).closest(".variations_form"),n=v(this).closest("form.cart").find(".quantity input.qty"),d=n.val(),c=s.find('.em-addtocart-text-single-product--variable[data-variation_id = "'+o+'"]').text(),l=s.find('.em-badges-single-product--variable[data-variation_id="'+o+'"]').html();if(i==""){i=h.html()}else{h.html(i)}f.attr("data-price",a);f.html(w.formatPrice(parseFloat(d*a)));if(r!=""){_.html(r)}w.variations_image_update(t,s);if(c){u.find(".text").html(c)}else{u.find(".text").html(p)}if(_.find(".stock").hasClass("hidden")){_.find(".stock").removeClass("hidden")}g.siblings(".woocommerce-badges--single").remove();if(l){g.after(l);_.find(".stock").addClass("hidden")}});v("div.product .entry-summary > .variations_form").on("reset_data",function(){var e=v(this).closest(".variations_form");m.addClass("hidden");f.addClass("hidden");h.html(a);_.html(o);w.variations_image_reset(e);u.find(".text").html(p);if(_.find(".stock").hasClass("hidden")){_.find(".stock").removeClass("hidden")}g.siblings(".woocommerce-badges--single").remove();if(t){g.after(t)}})};w.variations_image_update=function(e,t){var a=t.closest(".product"),o=a.find(".woocommerce-product-gallery"),i=o.find(".woocommerce-product-gallery__wrapper"),r=a.find(".ecomus-product-gallery-thumbnails"),s=r.find(".woocommerce-product-gallery__image:eq(0) img"),n=o.find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),d=n.find(".wp-post-image"),c=n.find("a").eq(0);if(e&&e.image&&e.image.src&&e.image.src.length>1){var l=r.find('.woocommerce-product-gallery__image[data-thumb="'+e.image.gallery_thumbnail_src+'"]').length>0;if(l){w.variations_image_reset(t)}if(w.$window.width()>768&&o.hasClass("woocommerce-product-gallery--grid")){if(!w.setVariationImageToGalleryGrid(i,r,t,e)){return false}}else if(i.hasClass("swiper")){if(!w.setVariationImageToGallerySwiper(i,r,t,e)){return false}}d.wc_set_variation_attr("src",e.image.src);d.wc_set_variation_attr("height",e.image.src_h);d.wc_set_variation_attr("width",e.image.src_w);d.wc_set_variation_attr("srcset",e.image.srcset);d.wc_set_variation_attr("sizes",e.image.sizes);d.wc_set_variation_attr("title",e.image.title);d.wc_set_variation_attr("data-caption",e.image.caption);d.wc_set_variation_attr("alt",e.image.alt);d.wc_set_variation_attr("data-src",e.image.full_src);d.wc_set_variation_attr("data-large_image",e.image.full_src);d.wc_set_variation_attr("data-large_image_width",e.image.full_src_w);d.wc_set_variation_attr("data-large_image_height",e.image.full_src_h);n.wc_set_variation_attr("data-thumb",e.image.src);s.wc_set_variation_attr("src",e.image.gallery_thumbnail_src);s.wc_set_variation_attr("srcset",e.image.gallery_thumbnail_src);s.wc_set_variation_attr("sizes",e.image.sizes);s.wc_set_variation_attr("data-large_image_width",e.image.full_src_w);s.wc_set_variation_attr("data-large_image_height",e.image.full_src_h);s.wc_set_variation_attr("data-large_image",e.image.full_src);s.wc_set_variation_attr("title",e.image.title);s.wc_set_variation_attr("data-caption",e.image.caption);s.wc_set_variation_attr("alt",e.image.alt);s.wc_set_variation_attr("data-src",e.image.full_src);c.wc_set_variation_attr("href",e.image.full_src)}else{w.variations_image_reset(t)}};w.setVariationImageToGalleryGrid=function(e,t,a,o){var i=e.find('.woocommerce-product-gallery__image[data-thumb="'+o.image.gallery_thumbnail_src+'"]');if(i.length>0&&!v(i).hasClass("swiper-slide-active")){v("html, body").animate({scrollTop:v(i).offset().top},300);a.attr("current-image",o.image_id);return false}if(w.$window.scrollTop()>e.offset().top){v("html, body").animate({scrollTop:e.offset().top},300)}return true};w.setVariationImageToGallerySwiper=function(e,t,a,o){var i=t.find('.woocommerce-product-gallery__image[data-thumb="'+o.image.gallery_thumbnail_src+'"]');if(i.length>0){var r=t.find(".woocommerce-product-gallery__image").index(i);e.get(0).swiper.slideTo(r);a.attr("current-image",o.image_id);return false}e.get(0).swiper.slideTo(0);return true};w.variations_image_reset=function(e){var t=e.closest(".product"),a=t.find(".woocommerce-product-gallery"),o=a.find(".woocommerce-product-gallery__wrapper"),i=t.find(".ecomus-product-gallery-thumbnails"),r=i.find(".woocommerce-product-gallery__image:eq(0) img"),s=a.find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),n=s.find(".wp-post-image"),d=s.find("a").eq(0);if(o.hasClass("swiper")){o.get(0).swiper.slideTo(0)}n.wc_reset_variation_attr("src");n.wc_reset_variation_attr("width");n.wc_reset_variation_attr("height");n.wc_reset_variation_attr("srcset");n.wc_reset_variation_attr("sizes");n.wc_reset_variation_attr("title");n.wc_reset_variation_attr("data-caption");n.wc_reset_variation_attr("alt");n.wc_reset_variation_attr("data-src");n.wc_reset_variation_attr("data-large_image");n.wc_reset_variation_attr("data-large_image_width");n.wc_reset_variation_attr("data-large_image_height");s.wc_reset_variation_attr("data-thumb");r.wc_reset_variation_attr("src");r.wc_reset_variation_attr("srcset");r.wc_reset_variation_attr("sizes");r.wc_reset_variation_attr("data-large_image_width");r.wc_reset_variation_attr("data-large_image_height");r.wc_reset_variation_attr("data-large_image");r.wc_reset_variation_attr("title");r.wc_reset_variation_attr("data-caption");r.wc_reset_variation_attr("alt");r.wc_reset_variation_attr("data-src");d.wc_reset_variation_attr("href")};w.updateQuantityAuto=function(){var t=null;v(document.body).on("change",".woocommerce-mini-cart .qty",function(){var e=v(this);if(t){clearTimeout(t)}t=setTimeout(function(){w.updateCartAJAX(e)},500)})};w.updateCartAJAX=function(e){var t=e.closest(".woocommerce-mini-cart-item"),a=e.closest(".widget_shopping_cart_content").find(".woocommerce-mini-cart-item"),o=t.find("a.remove").data("cart_item_key"),i=t.find(".woocommerce-mini-cart-item__qty").data("nonce"),r=wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","update_cart_item");if(v.fn.block){t.block({message:null,overlayCSS:{opacity:.6,background:"#fff"}})}v.post(r,{cart_item_key:o,qty:e.val(),cart_item_length:a.length,security:i},function(e){if(!e||!e.fragments){return}if(v.fn.unblock){t.unblock()}v(document.body).trigger("added_to_cart",[e.fragments,e.cart_hash,t])}).fail(function(){if(v.fn.unblock){t.unblock()}return})};w.productsRecommendedCarousel=function(){setTimeout(function(){var e=v(".ecomus-mini-products-recommended");if(!e.length){return}var t=e.find(".swiper"),a={loop:false,autoplay:false,speed:800,watchOverflow:true,spaceBetween:30,slidesPerView:1,pagination:{el:e.find(".swiper-pagination").get(0),type:"bullets",clickable:true},breakpoints:{}};e.find(".woocommerce-loop-product").addClass("swiper-slide");new Swiper(t.get(0),a)},1)};w.addedToWishlistNotice=function(){if(typeof ecomusData.added_to_wishlist_notice==="undefined"||!v.fn.notify){return}w.$body.on("added_to_wishlist",function(e,t){var a=t.data("product_title");o(a);return false});function o(e){e+=" "+ecomusData.added_to_wishlist_notice.added_to_wishlist_text;e+='<a href="'+ecomusData.added_to_wishlist_notice.wishlist_view_link+'" class="btn-button">'+ecomusData.added_to_wishlist_notice.wishlist_view_text+"</a>";var t='<span class="ecomus-svg-icon message-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check-circle"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg></span>',a='<span class="ecomus-svg-icon svg-active"><svg class="svg-icon" aria-hidden="true" role="img" focusable="false" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 1L1 14M1 1L14 14" stroke="#A0A0A0" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path></svg></span>';v.notify.addStyle("ecomus",{html:"<div>"+t+e+a+"</div>"});v.notify("&nbsp",{autoHideDelay:ecomusData.added_to_wishlist_notice.wishlist_notice_auto_hide,className:"success",style:"ecomus",showAnimation:"fadeIn",hideAnimation:"fadeOut"})}};w.addedToCompareNotice=function(){if(typeof ecomusData.added_to_compare_notice==="undefined"||!v.fn.notify){return}w.$body.on("added_to_compare",function(e,t){var a=t.data("product_title");o(a);return false});function o(e){e+=" "+ecomusData.added_to_compare_notice.added_to_compare_text;e+='<a href="'+ecomusData.added_to_compare_notice.compare_view_link+'" class="btn-button">'+ecomusData.added_to_compare_notice.compare_view_text+"</a>";var t='<span class="ecomus-svg-icon message-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check-circle"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg></span>',a='<span class="ecomus-svg-icon svg-active"><svg class="svg-icon" aria-hidden="true" role="img" focusable="false" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 1L1 14M1 1L14 14" stroke="#A0A0A0" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path></svg></span>';v.notify.addStyle("ecomus",{html:"<div>"+t+e+a+"</div>"});v.notify("&nbsp",{autoHideDelay:ecomusData.added_to_compare_notice.compare_notice_auto_hide,className:"success",style:"ecomus",showAnimation:"fadeIn",hideAnimation:"fadeOut"})}};w.copyLink=function(){v(".ecomus-copylink__button").on("click",function(e){e.preventDefault();var t=v(this).closest("form").find(".ecomus-copylink__link");t.select();document.execCommand("copy")})};w.progressBar=function(e=true){if(!e){w.$body.find(".em-progress-bar").css("transform","scaleX(1)");setTimeout(function(){w.$body.find(".em-progress-bar").css("display","none");w.$body.find(".em-progress-bar").css("transform","scaleX(0)")},600);setTimeout(function(){w.$body.find(".em-progress-bar").removeAttr("style")},700)}else{w.$body.find(".em-progress-bar").css("transform","scaleX(0.8)")}};w.currencyLanguage=function(){if(!v(".ecomus-currency-language").length){return}v(document.body).on("click",".ecomus-currency-language .current",function(e){if(!v(this).next().hasClass("currency-dropdown")){return}var t=v(this).outerWidth()/2,a=v(this).offset().left,o=v(this).siblings(".currency-dropdown").width()/2;if(a<=o){t=o-a+10}v(this).next(".currency-dropdown").css("left",t);if(v(document.body).hasClass("rtl")){a=v(window).width()-(a+v(this).outerWidth());if(a<=o){t=o-a+10}v(this).next(".currency-dropdown").css({right:t,left:"auto"})}if(v(this).hasClass("active")){v(this).removeClass("active");v(this).next(".currency-dropdown").removeClass("active")}else{v(".ecomus-currency-language .current").removeClass("active");v(".ecomus-currency-language .currency-dropdown").removeClass("active");v(this).next(".currency-dropdown").stop().toggleClass("active");v(this).toggleClass("active")}}).on("keyup",function(e){if(e.keyCode===27){v(this).removeClass("active");v(".ecomus-currency-language .current").removeClass("active");v(".ecomus-currency-language .currency-dropdown").removeClass("active")}}).on("click",function(e){var t=v(e.target);if(t.is(".ecomus-currency-language .current")){return}if(t.is(".ecomus-currency-language .preferences-menu__item-child")){return}v(".ecomus-currency-language .current").removeClass("active");v(".ecomus-currency-language .currency-dropdown").removeClass("active")});v(document.body).on("ecomus_popover_opened",function(){v(".ecomus-currency-language .current").removeClass("active");v(".ecomus-currency-language .currency-dropdown").removeClass("active")})};w.hamburgerToggleMenuItem=function(){var e=v("#mobile-menu-panel, #mobile-shop-panel"),t="ul.menu li.menu-item-has-children > a";if(ecomusData.header_mobile_menu_open_primary_submenus_on=="icon"){e.find("ul.menu li.menu-item-has-children > a").append('<span class="toggle-menu-children"></span>');t="ul.menu li.menu-item-has-children > a .toggle-menu-children"}e.on("click",t,function(e){e.preventDefault();var t=v(this).closest("li.menu-item-has-children");t.toggleClass("active").siblings().removeClass("active");t.children("ul.sub-menu").slideToggle("fast");t.siblings().find("ul.sub-menu").slideUp("fast")})};w.hamburgerToggleSubMenuItem=function(){var e=v("#mobile-menu-panel"),t=".mega-menu .menu-item--widget-heading";if(ecomusData.header_mobile_menu_open_primary_submenus_on=="icon"){e.find(".mega-menu .menu-item--widget-heading > *").append('<span class="toggle-menu-children"></span>');t=".mega-menu .menu-item--widget-heading > * .toggle-menu-children"}e.on("click",t,function(e){e.preventDefault();var t=v(this).closest(".menu-item--widget-heading");if(t.hasClass("active")){t.removeClass("active");t.nextAll(".menu-item:not(.menu-item--widget-heading)").slideUp("fast")}else{v(".mega-menu .menu-item--widget-heading").removeClass("active");v(".mega-menu .mega-menu-sub-item").slideUp("fast");t.addClass("active");t.nextUntil(".menu-item--widget-heading").slideDown("fast")}});v("#mobile-menu-panel").find(".mega-menu .mega-menu__column .menu-item--widget-heading").nextAll(".menu-item:not(.menu-item--widget-heading)").addClass("mega-menu-sub-item").hide()};w.headerCampaignBar=function(){var e=v("#campaign-bar");if(!e.length){return}e.on("click",".campaign-bar__close",function(e){e.preventDefault();v(this).closest(".campaign-bar").slideUp()});if(e.hasClass("campaign-bar-type--marquee")){this.headerCampaignBarMarquee()}if(e.hasClass("campaign-bar-type--slides")){this.headerCampaignBarSlides()}};w.headerCampaignBarMarquee=function(){var e=v("#campaign-bar"),t=e.find(".campaign-bar__container"),a=e.find(".campaign-bar__items"),o=(parseInt(Math.ceil(jQuery(window).width()/a.outerWidth(true)))||0)+1,i=t.data("speed"),r=1/parseFloat(i)*(a.outerWidth(true)/350);t.css("--em-campaign-speed",r+"s");for(let e=1;e<=o;e++){var s=a.clone();s.addClass("campaign-bar__items--duplicate em-absolute");s.css("--em-campaign-index",e.toString());s.appendTo(t)}};w.headerCampaignBarSlides=function(){var e=v("#campaign-bar"),t=e.find(".campaign-bar__items");t.after('<span class="ecomus-svg-icon ecomus-swiper-button swiper-button swiper-button-text swiper-button-prev"><svg width="7" height="11" viewBox="0 0 7 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 11L0 5.5L5.5 0L6.47625 0.97625L1.9525 5.5L6.47625 10.0238L5.5 11Z" fill="currentColor"/></svg></span>');t.after('<span class="ecomus-svg-icon ecomus-swiper-button swiper-button swiper-button-text swiper-button-next"><svg width="7" height="11" viewBox="0 0 7 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.5 11L7 5.5L1.5 0L0.52375 0.97625L5.0475 5.5L0.52375 10.0238L1.5 11Z" fill="currentColor"/></svg></span>');var a=e.find(".swiper"),o={loop:true,autoplay:true,speed:1e3,watchOverflow:true,navigation:{nextEl:a.find(".swiper-button-next").get(0),prevEl:a.find(".swiper-button-prev").get(0)}};new Swiper(a.get(0),o)};w.stickyHeader=function(){if(ecomusData.header_sticky){e(w.$header.find(".site-header__desktop"),w.$header.find(".site-header__section.ecomus-header-sticky"))}if(ecomusData.header_mobile_sticky){e(w.$header.find(".site-header__mobile"),w.$header.find(".site-header__section.ecomus-header-mobile-sticky"))}function e(e,t){var a=w.$header.outerHeight(true),o=w.$body.outerHeight(true),i=v("#campaign-bar").is(":visible")?v("#campaign-bar").height():0,r=v("#topbar").is(":visible")?v("#topbar").height():0,s=a+i+r+200,n=w.$header.find(".site-header__desktop").length?w.$header.find(".site-header__desktop").outerHeight():0,d=w.$header.find(".site-header__mobile").length?w.$header.find(".site-header__mobile").outerHeight():0;if("up"===ecomusData.header_sticky_on){if(e.length){var c=new Headroom(e.get(0),{offset:s});c.init()}}w.$window.on("scroll",function(){var e=w.$window.scrollTop();if(o<=s+w.$window.height()){return}if(e>s){if(w.$window.width()>768){w.$header.css("height",n)}else{w.$header.css("height",d)}if("up"!==ecomusData.header_sticky_on){t.addClass("minimized")}}else{w.$header.removeAttr("style");if("up"!==ecomusData.header_sticky_on){t.removeClass("minimized")}}})}};w.topbarSlides=function(){var e=v("#topbar-slides");if(!e.length){return}var t=e.find(".swiper"),a={loop:true,autoplay:true,speed:800,watchOverflow:true,spaceBetween:30};new Swiper(t.get(0),a)};w.backToTop=function(){var r=v("#gotop");w.$window.on("scroll",function(){if(w.$window.scrollTop()>100){r.addClass("show-scroll")}else{r.removeClass("show-scroll")}let e=w.$window.scrollTop(),t=w.$body.outerHeight(),a=v(window).height(),o=e/(t-a),i=o*360;r.css("--cricle-degrees",i+"deg")});w.$body.on("click","#gotop",function(e){e.preventDefault();v("html, body").animate({scrollTop:0},800)})};w.toggleProductCategoriesWidget=function(){var e=v(".widget_product_categories");e.find("li.cat-parent").each(function(){if(v(this).find("ul.children").length>0){v(this).append('<span class="em-product-cat-item-toggle"></span>')}});e.on("click","li.cat-parent > .em-product-cat-item-toggle",function(e){e.preventDefault();var t=v(this).closest("li.cat-parent");t.toggleClass("active").siblings().removeClass("active");t.children("ul.children").slideToggle()});v(".catalog-sidebar .wp-block-group").each(function(){if(v(this).find(".wp-block-heading").length){v(this).find(".wp-block-heading").addClass("em-widget-heading clicked");v(this).find(".wp-block-heading").append('<span class="em-collapse-icon"></span>');v(this).find(".wp-block-heading").nextAll().wrapAll('<div class="em-widget-group dropdown"/>')}});v(".catalog-sidebar .widget").each(function(){if(v(this).find(".widget-title").length){v(this).find(".widget-title").addClass("em-widget-heading clicked");v(this).find(".widget-title").append('<span class="em-collapse-icon"></span>');v(this).find(".widget-title").nextAll().wrapAll('<div class="em-widget-group dropdown"/>')}});v(".catalog-sidebar .em-widget-heading").on("click",function(e){e.preventDefault();if(!v(this).next().hasClass("dropdown")){return}v(this).next(".dropdown").stop().slideToggle();v(this).toggleClass("active");return false})};w.dropdownProductCategoriesSidebar=function(e){var t=v(".wp-block-woocommerce-product-categories"),a=t.find(".wc-block-product-categories-list");if(!t.hasClass("is-list")){return}t.addClass("em-product-categories-widget");a.addClass("em-product-categories-dropdown");a.closest(".wc-block-product-categories-list-item").addClass("em-product-categories-has-children");a.closest(".wc-block-product-categories-list-item").append('<span class="em-product-categories-toggler" aria-hidden="true"></span>');t.on("click",".em-product-categories-has-children > .em-product-categories-toggler",function(e){e.preventDefault();var t=v(this).closest(".em-product-categories-has-children");t.toggleClass("active").siblings().removeClass("active");t.children(".em-product-categories-dropdown").slideToggle();t.siblings().find(".em-product-categories-dropdown").slideUp()})};w.formatPrice=function(e){var t=ecomusData.currency_symbol,a=ecomusData.thousand_sep,o=ecomusData.decimal_sep,i=ecomusData.price_decimals,r=ecomusData.currency_pos,s=e;if(parseInt(i)>0){e=e.toFixed(i)+"";var n=e.split(".");var d=n[0],c=n.length>1?o+n[1]:"";var l=/(\d+)(\d{3})/;while(l.test(d)){d=d.replace(l,"$1"+a+"$2")}s=d+c}switch(r){case"left":return t+s;break;case"right":return s+t;break;case"left_space":return t+" "+s;break;case"right_space":return s+" "+t;break}};w.tooltip=function(){w.$body.on("mouseenter",".em-tooltip",function(e){if(w.$body.find(".em-tooltip--data").length>0){v(".em-tooltip--data").remove()}if(v(this).hasClass("loading")){v(".em-tooltip--data").remove();return}var s=v('<div class="em-tooltip--data em-absolute"></div>'),n=v(this),t=200;s.appendTo("body");s.attr("data-tooltip",v(this).data("tooltip"));if(v(this).data("tooltip_added")){s.attr("data-tooltip_added",v(this).data("tooltip_added"))}if(v(this).hasClass("added")){s.addClass("added")}if(n.hasClass("product-loop-button")&&!n.closest(".product-featured-icons").hasClass("product-featured-icons--single-product")){t=500}s.fadeIn(t,function(){var e=n.offset(),t=n.outerHeight(),a=v(".em-tooltip--data").outerWidth(),o=v(".em-tooltip--data").outerHeight(),i=e.top-o+t+"px",r=e.left+n.outerWidth()/2-a/2+"px";if(n.data("tooltip_position")){s.addClass("bottom")}else{s.addClass("top");i=e.top-o-7+"px";if(n.closest(".product-featured-icons--second").length>0){if(n.closest(".product-featured-icons--second").hasClass("product-featured-icons--right")){s.addClass("left");r=e.left-a-7+"px"}else{s.addClass("right");r=e.left+n.outerWidth()-7+"px"}i=e.top+n.outerHeight()/2-o/2+"px"}}s.css({top:i,left:r})})}).on("mouseleave",".em-tooltip",function(e){v(".em-tooltip--data").remove()})};v(function(){w.init()})})(jQuery);